{"components":{"schemas":{"domains.feature.FeatureActive":{"allOf":[{"$ref":"#/components/schemas/domains.feature.Feature"},{"type":"object","properties":{"active":{"type":"boolean"}}}]},"domains.user.User":{"properties":{}},"controllers.dto.config.ConfigListResult":{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/domains.config.Config"}},"metadata":{"$ref":"#/components/schemas/controllers.dto.meta.Metadata"}},"required":["results","metadata"]},"domains.config.Config":{"properties":{"id":{"type":"string"},"value":{"type":"any"}},"required":["id","value"]},"ApiErrors":{"properties":{"errors":{"type":"array","$ref":"#/components/schemas/ApiError"},"fieldErrors":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/ApiError"}}}}},"PatchRequest":{"type":"array","items":{"$ref":"#/components/schemas/PatchDocument"}},"domains.abtesting.Campaign":{"properties":{}},"PatchDocument":{"description":"A JSONPatch document as defined by RFC 6902","required":["op","path"],"properties":{"op":{"type":"string","description":"The operation to be performed","enum":["add","remove","replace","move","copy","test"]},"path":{"type":"string","description":"A JSON-Pointer"},"value":{"type":"object","description":"The value to be used within the operations."},"from":{"type":"string","description":"A string containing a JSON Pointer value."}}},"domains.abtesting.Experiment":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"enabled":{"type":"boolean"},"campaign":{"type":"object","$ref":"#/components/schemas/domains.abtesting.Campaign"},"variants":{"type":"object","$ref":"#/components/schemas/domains.abtesting.Variant"}}},"domains.abtesting.Variant":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"traffic":{"type":"domains.abtesting.package.traffic"},"currentPopulation":{"type":"integer","format":"int32","nullable":true}},"required":["id","name","traffic"]},"controllers.dto.feature.FeatureListResult":{"properties":{"results":{"type":"array","$ref":"#/components/schemas/domains.feature.Feature"},"metadata":{"page":{"required":true,"type":"integer"},"pageSize":{"required":true,"type":"integer"},"count":{"required":true,"type":"integer"},"nbPages":{"required":true,"type":"integer"}}}},"domains.abtesting.ExperimentVariantEvent":{"properties":{"id":{"type":"string"},"experimentId":{"type":"ExperimentKey"},"clientId":{"type":"string"},"variant":{"type":"array","$ref":"#/components/schemas/domains.abtesting.Variant"},"date":{"type":"string"},"transformation":{"type":"number"},"variantId":{"type":"string"}}},"controllers.dto.meta.Metadata":{"properties":{"page":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"count":{"type":"integer","format":"int32"},"nbPages":{"type":"number","format":"double"}},"required":["page","pageSize","count","nbPages"]},"domains.script.GlobalScript":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"source":{"$ref":"#/components/schemas/domains.script.package.Script"}},"required":["id","name","description","source"]},"domains.webhook.Webhook":{"properties":{"clientId":{"type":"string"},"callbackUrl":{"type":"string"},"domains":{"type":"array","items":{"type":"domains.domain.domain"}},"patterns":{"type":"array","items":{"type":"string"}},"types":{"type":"array","items":{"type":"string"}},"headers":{"type":"object"},"created":{"type":"string"},"isBanned":{"type":"boolean"}},"required":["clientId","callbackUrl","domains","patterns","types","headers","created","isBanned"]},"ApiError":{"properties":{"message":{"type":"string"},"args":{"type":"array","items":"string"}}},"domains.apikey.Apikey":{"properties":{"clientId":{"type":"string"},"name":{"type":"string"},"clientSecret":{"type":"string"},"authorizedPatterns":{"type":"domains.authorizedpatterns"},"admin":{"type":"boolean"}},"required":["clientId","name","clientSecret","authorizedPatterns","admin"]},"domains.script.package.Script":{"properties":{}},"domains.feature.Feature":{"properties":{"description":{"type":"string"},"id":{"type":"string"},"parameters":{"type":"object","properties":{"activationStrategy":{"type":"string","required":true,"enum":["NO_STRATEGY","RELEASE_DATE","DATE_RANGE","SCRIPT","GLOBAL_SCRIPT","PERCENTAGE","HOUR_RANGE"]},"releaseDate":{"type":"string","required":false},"from":{"type":"string","required":false,"format":"date"},"to":{"type":"string","required":false,"format":"date"},"percentage":{"type":"number","required":false},"ref":{"type":"string","required":true},"script":{"type":"string","required":false},"type":{"type":"string","required":false,"enum":["scala","javascript"]}}},"enabled":{"type":"boolean"}}}}},"openapi":"3.0.0","paths":{"/api/configs":{"post":{"operationId":"create","tags":["Config Endpoints"],"summary":"Create a Config","requestBody":{"description":"Create a new config","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.config.Config"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.config.Config"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["Config Endpoints"],"summary":"list configs","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.config.ConfigListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"render","schema":{"default":"flat","type":"string"},"required":false}]}},"/api/configs/{id}":{"patch":{"operationId":"patch","tags":["Config Endpoints"],"summary":"patch a config","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.config.Config"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["Config Endpoints"],"summary":"get a config","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.config.Config"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["Config Endpoints"],"summary":"Delete a Config","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.config.Config"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["Config Endpoints"],"summary":"Update a Config","requestBody":{"description":"Update a config","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.config.Config"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.config.Config"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/tree/configs":{"get":{"operationId":"tree","tags":["Config Endpoints"],"summary":"Configs as tree","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/configs.ndjson":{"post":{"operationId":"upload","tags":["Config Endpoints"],"summary":"Upload Configs","requestBody":{"description":"Update a config","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.config.Config"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["Config Endpoints"],"summary":"Downlaod Configs","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/domains.config.Config"}}}}}}}},"/api/counts/configs":{"get":{"operationId":"count","tags":["Config Endpoints"],"summary":"Count Configs","responses":{"200":{"description":"success"}}}},"/api/config-server/raw/{rootKey}/{appName}/{profile}":{"get":{"operationId":"raw","tags":["Config Endpoints"],"summary":"Configs for spring config server","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"path","name":"rootKey","schema":{"type":"string"},"required":true},{"in":"path","name":"appName","schema":{"type":"string"},"required":true},{"in":"path","name":"profile","schema":{"type":"string"},"required":true}]}},"/api/features":{"post":{"operationId":"create","tags":["Feature Endpoints"],"summary":"create feature","requestBody":{"description":"Create a config","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.feature.Feature"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.feature.Feature"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["Feature Endpoints"],"summary":"list features","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.feature.FeatureListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"active","schema":{"default":false,"type":"boolean"},"required":false},{"in":"query","name":"render","schema":{"default":"flat","type":"string"},"required":false}]},"delete":{"operationId":"deleteAll","tags":["Feature Endpoints"],"summary":"delete features by pattern","responses":{"200":{"description":"success","content":{"application/json":null}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/features/_checks":{"post":{"operationId":"listWithContext","tags":["Feature Endpoints"],"summary":"check features","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.feature.FeatureListResult"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false}]}},"/api/features/_copy":{"post":{"operationId":"copyNode","tags":["Feature Endpoints"],"summary":"copy features","requestBody":{"description":"Update a config","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/controllers.dto.feature.CopyRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.CopyResponse"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}}},"/api/features/{id}":{"patch":{"operationId":"patch","tags":["Feature Endpoints"],"summary":"patch a feature","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.config.Config"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["Feature Endpoints"],"summary":"get a feature","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.feature.Feature"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["Feature Endpoints"],"summary":"delete a feature","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.feature.Feature"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["Feature Endpoints"],"summary":"update a feature","requestBody":{"description":"Create a config","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.feature.Feature"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.feature.Feature"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/features/{id}/check":{"post":{"operationId":"checkWithContext","tags":["Feature Endpoints"],"summary":"check a feature by id with context","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"success","content":{"application/json":null}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"check","tags":["Feature Endpoints"],"summary":"check a feature by id","responses":{"200":{"description":"success","content":{"application/json":null}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/features.ndjson":{"post":{"operationId":"upload","tags":["Feature Endpoints"],"summary":"download feature","requestBody":{"description":"Create a config","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.feature.Feature"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["Feature Endpoints"],"summary":"download feature","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"items":{"$ref":"#/components/schemas/domains.feature.Feature"}}}}}}}},"/api/tree/features":{"post":{"operationId":"tree","tags":["Feature Endpoints"],"summary":"feature as tree","requestBody":{"description":"Context","required":true,"content":{"application/json":{"type":"object"}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]},"get":{"operationId":"treeGet","tags":["Feature Endpoints"],"summary":"feature as tree","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/counts/features":{"get":{"operationId":"count","tags":["Feature Endpoints"],"summary":"count features","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"number"}}}}}}},"/api/scripts":{"post":{"operationId":"create","tags":["GlobalScript Endpoints"],"summary":"create global script","requestBody":{"description":"Create a script","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["GlobalScript Endpoints"],"summary":"list global script","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.GlobalScriptListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"name_only","schema":{"nullable":true,"type":"boolean"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false}]},"delete":{"operationId":"deleteAll","tags":["GlobalScript Endpoints"],"summary":"delete by pattern","responses":{"200":{"description":"success","content":{"application/json":null}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/scripts/_debug":{"post":{"operationId":"debug","tags":["GlobalScript Endpoints"],"summary":"debug a script execution","requestBody":{"description":"Create a script","required":true,"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"object"}}}}}}}},"/api/scripts/{id}":{"patch":{"operationId":"patch","tags":["GlobalScript Endpoints"],"summary":"patch a global script","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["GlobalScript Endpoints"],"summary":"get by id script","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["GlobalScript Endpoints"],"summary":"delete by by id","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["GlobalScript Endpoints"],"summary":"update by id script","requestBody":{"description":"Update a script","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/scripts.ndjson":{"post":{"operationId":"upload","tags":["GlobalScript Endpoints"],"summary":"download global script","requestBody":{"description":"Create a script","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["GlobalScript Endpoints"],"summary":"download global script","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.script.GlobalScript"}}}}}}},"/api/experiments":{"post":{"operationId":"create","tags":["Experiment Endpoints"],"summary":"create experiment","requestBody":{"description":"Create an experiment","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["Experiment Endpoints"],"summary":"list experiments","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.ExperimentListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"render","schema":{"default":"flat","type":"string"},"required":false}]},"delete":{"operationId":"deleteAll","tags":["Experiment Endpoints"],"summary":"delete experiments by pattern","responses":{"200":{"description":"success"},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/tree/experiments":{"get":{"operationId":"tree","tags":["Experiment Endpoints"],"summary":"experiments as tree","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"object"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"clientId","schema":{"type":"string"},"required":true}]}},"/api/experiments.ndjson":{"post":{"operationId":"uploadExperiments","tags":["Experiment Endpoints"],"summary":"upload experiments","requestBody":{"description":"Create an experiment","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"downloadExperiments","tags":["Experiment Endpoints"],"summary":"download experiments","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}}}}}},"/api/experiments/events.ndjson":{"post":{"operationId":"uploadEvents","tags":["Experiment Endpoints"],"summary":"upload experiments","requestBody":{"description":"Create an experiment","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.abtesting.ExperimentVariantEvent"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}}},"get":{"operationId":"downloadEvents","tags":["Experiment Endpoints"],"summary":"download experiments","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.ExperimentVariantEvent"}}}}}}}},"/api/experiments/{id}":{"patch":{"operationId":"patch","tags":["Experiment Endpoints"],"summary":"patch an experiment","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["Experiment Endpoints"],"summary":"get an experiment","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true},{"in":"query","name":"clientId","schema":{"nullable":true,"type":"string"},"required":false}]},"delete":{"operationId":"delete","tags":["Experiment Endpoints"],"summary":"delete an experiment","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["Experiment Endpoints"],"summary":"update an experiment","requestBody":{"description":"Update an experiment","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Experiment"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/experiments/{id}/variant":{"get":{"operationId":"getVariantForClient","tags":["Experiment Endpoints"],"summary":"delete an experiment","description":"Get the variant for the client","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.Variant"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true},{"in":"query","name":"clientId","schema":{"type":"string"},"required":true}]}},"/api/experiments/{id}/displayed":{"post":{"operationId":"variantDisplayed","tags":["Experiment Endpoints"],"summary":"mark a variant as displayed","description":"This variant was displayed","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.ExperimentVariantEvent"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true},{"in":"query","name":"clientId","schema":{"type":"string"},"required":true}]}},"/api/experiments/{id}/won":{"post":{"operationId":"variantWon","tags":["Experiment Endpoints"],"summary":"mark a variant as won","description":"This variant has won","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.ExperimentVariantEvent"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true},{"in":"query","name":"clientId","schema":{"type":"string"},"required":true}]}},"/api/experiments/{id}/results":{"get":{"operationId":"results","tags":["Experiment Endpoints"],"summary":"get the current result","description":"Get the current result for this campaign","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.abtesting.ExperimentResult"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/counts/experiments":{"get":{"operationId":"count","tags":["Experiment Endpoints"],"summary":"get the count of experiments","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"number"}}}}}}}},"/api/webhooks":{"post":{"operationId":"create","tags":["Webhook Endpoints"],"summary":"create whebhook","requestBody":{"description":"Create a whebhook","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["Webhook Endpoints"],"summary":"list whebhooks","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.WebhookListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false}]}},"/api/webhooks.ndjson":{"post":{"operationId":"upload","tags":["Webhook Endpoints"],"summary":"upload webhooks","requestBody":{"description":"Create an experiment","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["Webhook Endpoints"],"summary":"download webhooks","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}}}}},"/api/webhooks/{id}":{"patch":{"operationId":"patch","tags":["Webhook Endpoints"],"summary":"patch a webhook","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["Webhook Endpoints"],"summary":"get a whebhook","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["Webhook Endpoints"],"summary":"delete a whebhook","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["Webhook Endpoints"],"summary":"update a whebhook","requestBody":{"description":"Update a whebhook","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.webhook.Webhook"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/counts/webhooks":{"get":{"operationId":"count","tags":["Webhook Endpoints"],"summary":"count whebhooks","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"number"}}}}}}}},"/api/users":{"post":{"operationId":"create","tags":["User Endpoints"],"summary":"create a User","requestBody":{"description":"create a user","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.user.User"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.user.User"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["User Endpoints"],"summary":"list users","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.UserListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false}]},"delete":{"operationId":"deleteAll","tags":["User Endpoints"],"summary":"delete users","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"object"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]}},"/api/users.ndjson":{"post":{"operationId":"upload","tags":["User Endpoints"],"summary":"upload user","requestBody":{"description":"users as nd-json format","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.user.User"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["User Endpoints"],"summary":"download user","responses":{"200":{"description":"success","content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.user.User"}}}}}}},"/api/users/{id}":{"patch":{"operationId":"patch","tags":["Webhook Endpoints"],"summary":"patch a webhook","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.user.User"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["User Endpoints"],"summary":"get a User","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.user.User"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["User Endpoints"],"summary":"delete a User","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.user.User"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["User Endpoints"],"summary":"update a User","requestBody":{"description":"Update a user","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.user.User"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.user.User"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/counts/users":{"get":{"operationId":"count","tags":["User Endpoints"],"summary":"count users","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"type":"number"}}}}}}}},"/api/apikeys":{"post":{"operationId":"create","tags":["ApiKey Endpoints"],"summary":"create an apikey","requestBody":{"description":"create an Apikey","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}}},"get":{"operationId":"list","tags":["ApiKey Endpoints"],"summary":"list apikeys","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/controllers.dto.ApikeyListResult"}}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"page","schema":{"default":1,"format":"int32","type":"integer"},"required":false},{"in":"query","name":"pageSize","schema":{"default":15,"format":"int32","type":"integer"},"required":false}]}},"/api/apikeys.ndjson":{"post":{"operationId":"upload","tags":["ApiKey Endpoints"],"summary":"upload apikeys","requestBody":{"description":"create an Apikey","required":true,"content":{"application/nd-json":{"schema":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/controllers.dto.import.ImportResultDto"}}}}},"parameters":[{"in":"query","name":"strategy","schema":{"default":"Keep","type":"string"},"required":false}]},"get":{"operationId":"download","tags":["ApiKey Endpoints"],"summary":"download apikeys","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}}}}}},"/api/apikeys/{id}":{"patch":{"operationId":"patch","tags":["ApiKey Endpoints"],"summary":"patch an apikey","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchRequest"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["ApiKey Endpoints"],"summary":"get an apikey","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["ApiKey Endpoints"],"summary":"delete an apikey","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}},"400":{"description":"functionnal errors","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiErrors"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"put":{"operationId":"update","tags":["ApiKey Endpoints"],"summary":"update an apikey","requestBody":{"description":"update an Apikey","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/domains.apikey.Apikey"}}}}}},"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/counts/apikeys":{"get":{"operationId":"count","tags":["ApiKey Endpoints"],"summary":"count apikeys","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"number"}}}}}}},"/api/locks/{id}":{"post":{"operationId":"update","tags":["routes"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"get":{"operationId":"get","tags":["routes"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]},"delete":{"operationId":"delete","tags":["routes"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true}]}},"/api/locks":{"get":{"operationId":"list","tags":["routes"],"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false}]},"put":{"operationId":"create","tags":["routes"]}},"/api/events":{"get":{"operationId":"allEvents","tags":["Event Endpoints"],"summary":"event with SSE","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"query","name":"pattern","schema":{"default":"*","type":"string"},"required":false},{"in":"query","name":"domains","schema":{"default":"","type":"string"},"required":false}]}},"/api/events/{domain}":{"get":{"operationId":"eventsForADomain","tags":["Event Endpoints"],"summary":"event by domains with SSE","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"path","name":"domain","schema":{"type":"string"},"required":true},{"in":"query","name":"patterns","schema":{"default":"","type":"string"},"required":false}]}},"/api/_search":{"get":{"operationId":"search","tags":["Search Endpoints"],"summary":"search","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"in":"query","name":"patterns","schema":{"type":"string"},"required":true},{"in":"query","name":"features","schema":{"default":true,"type":"boolean"},"required":false},{"in":"query","name":"configs","schema":{"default":true,"type":"boolean"},"required":false},{"in":"query","name":"experiments","schema":{"default":true,"type":"boolean"},"required":false},{"in":"query","name":"scripts","schema":{"default":true,"type":"boolean"},"required":false}]}},"/api/_health":{"get":{"operationId":"check","tags":["Admin Endpoints"],"summary":"health","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/metrics":{"get":{"operationId":"metricsEndpoint","tags":["Admin Endpoints"],"summary":"metrics for prometheus","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/api/login":{"post":{"operationId":"authenticate","tags":["Auth Endpoints"],"summary":"login","responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/logout":{"get":{"operationId":"logout","tags":["Auth Endpoints"],"summary":"logout","requestBody":{"description":"create an Apikey","required":true,"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"get":{"operationId":"appLoginPage","tags":["routes"]}},"/api/auth/logout":{"get":{"operationId":"appLogout","tags":["routes"]}},"/api/auth/callback":{"post":{"operationId":"appCallback","tags":["routes"]},"get":{"operationId":"appCallback","tags":["routes"]}}},"produces":["application/json"],"consumes":["application/json"],"info":{"description":"API of Izanami\n","title":"Izanami API","version":"1.0.0"},"tags":[{"name":"routes"}]}