"use strict";(self.webpackChunkizanami_documentation=self.webpackChunkizanami_documentation||[]).push([[5831],{9488:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>x,contentTitle:()=>g,default:()=>j,frontMatter:()=>m,metadata:()=>f,toc:()=>h});var s=t(5893),n=t(1151);t(3074);const a=t.p+"assets/images/plugin-template-selection-b322ae387d007ea51f3fab20e6bc16f8.png",o=t.p+"assets/images/plugin-name-selection-7656db934165028b72ef9ee7a32d719a.png",r=t.p+"assets/images/plugin-form-filled-1605c68f69bcb5b30c2e5589c0b0210a.png",c=t.p+"assets/images/plugin-builded-44218ee5892906b523320713b7350b4b.png",d=t.p+"assets/images/plugin-filled-49211ff9c2503e59abc1fea17dd5a09b.png",l=t.p+"assets/images/mobile-active-80c6d16b0529b1f89fea6d8edd8249b1.png",p=t.p+"assets/images/prod-mobile-active-3c2bd37d136de47ce20276677a9500d6.png",u=t.p+"assets/images/prod-inactive-be324caa8424709e47ccae72cda1a48c.png",m={title:"Remote script features"},g=void 0,f={id:"guides/remote-script",title:"Remote script features",description:"To use remote script feature (in opposition to local script features, that we've seen previously), you'll need to instantiate WASMO in alongside Izanami.",source:"@site/docs/04-guides/07-remote-script.mdx",sourceDirName:"04-guides",slug:"/guides/remote-script",permalink:"/izanami/docs/guides/remote-script",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Remote script features"},sidebar:"tutorialSidebar",previous:{title:"Local script features",permalink:"/izanami/docs/guides/local-scripts"},next:{title:"User invitation",permalink:"/izanami/docs/guides/user-invitation"}},x={},h=[];function b(e){const i={a:"a",code:"code",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["To use remote script feature (in opposition to local script features, ",(0,s.jsx)(i.a,{href:"/izanami/docs/guides/local-scripts",children:"that we've seen previously"}),"), you'll need to instantiate WASMO in alongside Izanami."]}),"\n",(0,s.jsxs)(i.p,{children:["Moreover, you'll need to ",(0,s.jsx)(i.a,{href:"./configuration#wasmo",children:"set up Izanami connection to WASMO"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"Using remote WASMO instance allows leveraging its capabilities regarding script editions and lifecycle.\nOf course, this implies to instantiate and supervise an additional application."}),"\n",(0,s.jsx)(i.p,{children:"First, let's create our plugin in WASMO, for this example, we will create an Izanami js plugin."}),"\n",(0,s.jsx)("img",{src:a}),"\n",(0,s.jsxs)(i.p,{children:["Let's name it ",(0,s.jsx)(i.code,{children:"mobile"}),"."]}),"\n",(0,s.jsx)("img",{src:o}),"\n",(0,s.jsxs)(i.p,{children:["We'll one again create a script that returns ",(0,s.jsx)(i.code,{children:"true"})," if ",(0,s.jsx)(i.code,{children:"mobile"})," is one of request contexts, and ",(0,s.jsx)(i.code,{children:"false"})," otherwise. Let's paste following code in WASMO editor :"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'export function execute() {\n  let input = JSON.parse(Host.inputString());\n  Host.outputString(\n    JSON.stringify({\n      active: input.executionContext.includes("mobile"),\n    })\n  );\n\n  return 0;\n}\n'})}),"\n",(0,s.jsx)("img",{src:d}),"\n",(0,s.jsxs)(i.p,{children:["Then click the build button (top right) to build our ",(0,s.jsx)(i.code,{children:"mobile"})," script."]}),"\n",(0,s.jsx)("img",{src:c}),"\n",(0,s.jsxs)(i.p,{children:["Now let's get back to Izanami and create a new WASM feature. This time we'll choose to create a ",(0,s.jsx)(i.code,{children:"WASMO"})," feature."]}),"\n",(0,s.jsx)("img",{src:r}),"\n",(0,s.jsxs)(i.p,{children:["Once again, let's test our feature, it should be active for ",(0,s.jsx)(i.code,{children:"mobile"})," context."]}),"\n",(0,s.jsx)("img",{src:l}),"\n",(0,s.jsxs)(i.p,{children:["It should also be active for ",(0,s.jsx)(i.code,{children:"prod/mobile"})," subcontext."]}),"\n",(0,s.jsx)("img",{src:p}),"\n",(0,s.jsxs)(i.p,{children:["And of course it should be inactive for ",(0,s.jsx)(i.code,{children:"prod"})," context."]}),"\n",(0,s.jsx)("img",{src:u})]})}function j(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}},3074:(e,i,t)=>{t.d(i,{j:()=>o});const s={description__trivia:"description__trivia_yesz"},n=t.p+"assets/images/izanami-fcff3cbcd789d673683f3365a3ddf9e4.png";var a=t(5893);function o(e){let{children:i}=e;return(0,a.jsxs)("div",{className:s.description__trivia,children:[(0,a.jsx)("img",{src:n}),(0,a.jsx)("div",{children:i})]})}},1151:(e,i,t)=>{t.d(i,{Z:()=>r,a:()=>o});var s=t(7294);const n={},a=s.createContext(n);function o(e){const i=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(a.Provider,{value:i},e.children)}}}]);