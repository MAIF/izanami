"use strict";(self.webpackChunkizanami_documentation=self.webpackChunkizanami_documentation||[]).push([[5831],{9488:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>x,contentTitle:()=>f,default:()=>j,frontMatter:()=>m,metadata:()=>g,toc:()=>h});var s=t(5893),n=t(1151);t(1361);const a=t.p+"assets/images/plugin-template-selection-783f93e5a0ebba43360269577d54ca61.png",o=t.p+"assets/images/plugin-name-selection-727bf1ad605e6eeefb6363810accf79b.png",r=t.p+"assets/images/plugin-form-filled-d65a13ec724748b56caad6838cbab50d.png",c=t.p+"assets/images/plugin-builded-a75861ef9b4ae718f24af9aa871c5ba2.png",l=t.p+"assets/images/plugin-filled-7b381b223ecadbb100a4e797724f46aa.png",d=t.p+"assets/images/mobile-active-7c60f439586fe9e9b0f71f387231447e.png",p=t.p+"assets/images/prod-mobile-active-61de5be938e50f955764bca30c4bd418.png",u=t.p+"assets/images/prod-inactive-2b556126fa8ff4dc48a735464884f4e3.png",m={title:"Remote script features"},f=void 0,g={id:"guides/remote-script",title:"Remote script features",description:"To use remote script feature (in opposition to local script features, that we've seen previously), you'll need to instantiate WASMO in alongside Izanami.",source:"@site/docs/04-guides/07-remote-script.mdx",sourceDirName:"04-guides",slug:"/guides/remote-script",permalink:"/izanami/docs/guides/remote-script",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Remote script features"},sidebar:"tutorialSidebar",previous:{title:"Local script features",permalink:"/izanami/docs/guides/local-scripts"},next:{title:"Http calls in scripts",permalink:"/izanami/docs/guides/http-calls-in-scripts"}},x={},h=[];function b(e){const i={a:"a",code:"code",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["To use remote script feature (in opposition to local script features, ",(0,s.jsx)(i.a,{href:"/izanami/docs/guides/local-scripts",children:"that we've seen previously"}),"), you'll need to instantiate WASMO in alongside Izanami."]}),"\n",(0,s.jsxs)(i.p,{children:["Moreover, you'll need to ",(0,s.jsx)(i.a,{href:"./configuration#wasmo",children:"set up Izanami connection to WASMO"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"Using remote WASMO instance allows leveraging its capabilities regarding script editions and lifecycle.\nOf course, this implies to instantiate and supervise an additional application."}),"\n",(0,s.jsx)(i.p,{children:"First, let's create our plugin in WASMO, for this example, we will create an Izanami js plugin."}),"\n",(0,s.jsx)("img",{src:a}),"\n",(0,s.jsxs)(i.p,{children:["Let's name it ",(0,s.jsx)(i.code,{children:"mobile"}),"."]}),"\n",(0,s.jsx)("img",{src:o}),"\n",(0,s.jsxs)(i.p,{children:["We'll one again create a script that returns ",(0,s.jsx)(i.code,{children:"true"})," if ",(0,s.jsx)(i.code,{children:"mobile"})," is one of request contexts, and ",(0,s.jsx)(i.code,{children:"false"})," otherwise. Let's paste following code in WASMO editor :"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'export function execute() {\n  let input = JSON.parse(Host.inputString());\n  Host.outputString(\n    JSON.stringify({\n      active: input.executionContext.includes("mobile"),\n    })\n  );\n\n  return 0;\n}\n'})}),"\n",(0,s.jsx)("img",{src:l}),"\n",(0,s.jsxs)(i.p,{children:["Then click the build button (top right) to build our ",(0,s.jsx)(i.code,{children:"mobile"})," script."]}),"\n",(0,s.jsx)("img",{src:c}),"\n",(0,s.jsxs)(i.p,{children:["Now let's get back to Izanami and create a new WASM feature. This time we'll choose to create a ",(0,s.jsx)(i.code,{children:"WASMO"})," feature."]}),"\n",(0,s.jsx)("img",{src:r}),"\n",(0,s.jsxs)(i.p,{children:["Once again, let's test our feature, it should be active for ",(0,s.jsx)(i.code,{children:"mobile"})," context."]}),"\n",(0,s.jsx)("img",{src:d}),"\n",(0,s.jsxs)(i.p,{children:["It should also be active for ",(0,s.jsx)(i.code,{children:"prod/mobile"})," subcontext."]}),"\n",(0,s.jsx)("img",{src:p}),"\n",(0,s.jsxs)(i.p,{children:["And of course it should be inactive for ",(0,s.jsx)(i.code,{children:"prod"})," context."]}),"\n",(0,s.jsx)("img",{src:u})]})}function j(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}},1361:(e,i,t)=>{t.d(i,{j:()=>o});const s={description__trivia:"description__trivia_yesz"};var n=t(4625),a=t(5893);function o(e){let{children:i}=e;return(0,a.jsxs)("div",{className:s.description__trivia,children:[(0,a.jsx)("img",{src:n.Z}),(0,a.jsx)("div",{children:i})]})}},4625:(e,i,t)=>{t.d(i,{Z:()=>s});const s=t.p+"assets/images/izanami_compressed-659337582c1667d92966e42fa1bfea3f.webp"},1151:(e,i,t)=>{t.d(i,{Z:()=>r,a:()=>o});var s=t(7294);const n={},a=s.createContext(n);function o(e){const i=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(a.Provider,{value:i},e.children)}}}]);