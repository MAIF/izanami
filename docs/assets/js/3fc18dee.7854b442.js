"use strict";(self.webpackChunkizanami_documentation=self.webpackChunkizanami_documentation||[]).push([[1627],{6832:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>d,toc:()=>u});var n=t(5893),i=t(1151),s=t(1361);const l=t.p+"assets/images/stale-indicator-519ecf2d749fa727f1c31f2e9500369b.png",r={title:"Stale feature detection"},o=void 0,d={id:"guides/stales-features",title:"Stale feature detection",description:"Stale feature detection is currently in alpha, and disabled by default.",source:"@site/docs/04-guides/19-stales-features.mdx",sourceDirName:"04-guides",slug:"/guides/stales-features",permalink:"/izanami/docs/guides/stales-features",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:19,frontMatter:{title:"Stale feature detection"},sidebar:"tutorialSidebar",previous:{title:"Protected contexts",permalink:"/izanami/docs/guides/protected-contexts"},next:{title:"OAuth2 rights",permalink:"/izanami/docs/guides/oidc-configuration"}},c={},u=[{value:"Stale rules",id:"stale-rules",level:2},{value:"Stale indication",id:"stale-indication",level:2},{value:"Roadmap",id:"roadmap",level:2}];function h(e){const a={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.j,{children:(0,n.jsxs)(a.p,{children:["Stale feature detection is currently in alpha, and disabled by default.\nYou can enable it by setting ",(0,n.jsx)(a.code,{children:"app.experimental.stale-tracking.enabled"})," (or ",(0,n.jsx)(a.code,{children:"IZANAMI_EXPERIMENTAL_STALE_TRACKING_ENABLED"})," env variable) to true.\nPlease open an issue if you encounter any bugs or have any improvement ideas."]})}),"\n",(0,n.jsx)(a.p,{children:"Removing flags that are not used anymore is the key to keeping your application code simple.\nIndeed, flag accumulation leads to codebases that are hard to test, hard to understand, and hard to maintain."}),"\n",(0,n.jsx)(a.p,{children:'Identifying flags that are not used or useful is, however, a challenge.\nTo ease this task, Izanami offers some hints on features that might be "stale".'}),"\n",(0,n.jsx)(a.h2,{id:"stale-rules",children:"Stale rules"}),"\n",(0,n.jsx)(a.p,{children:'Izanami considers that a feature is "stale" if one of the below conditions matches:'}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["feature has not been called since 2190 hours  (~3 months), this value can be adjusted by specifying ",(0,n.jsx)(a.code,{children:"app.feature.stale-hours-delay"})," (",(0,n.jsx)(a.code,{children:"IZANAMI_FEATURE_STALE_HOURS_DELAY"})," env var)."]}),"\n",(0,n.jsx)(a.li,{children:"feature always returned the same value in the past 2190 hours (~3 months), this value can be changed as above."}),"\n"]}),"\n",(0,n.jsx)(s.j,{children:(0,n.jsx)(a.p,{children:"Please be aware that even if Izanami returns the same value all the time, a different value can be evaluated locally (especially if you use an izanami client).\nMaking client send local evaluation results to Izanami is planned for a future version."})}),"\n",(0,n.jsx)(a.h2,{id:"stale-indication",children:"Stale indication"}),"\n",(0,n.jsx)(a.p,{children:"When a feature matches one of the above rules, Izanami indicates it in project view with a dedicated badge. Hovering the badge gives you some information about the stale cause."}),"\n",(0,n.jsx)("img",{src:l}),"\n",(0,n.jsx)(a.h2,{id:"roadmap",children:"Roadmap"}),"\n",(0,n.jsxs)(a.p,{children:["This feature is still in alpha version, and some enhancements are planned; if you have other ideas, please (submit an issue)[",(0,n.jsx)(a.a,{href:"https://github.com/MAIF/izanami/issues",children:"https://github.com/MAIF/izanami/issues"}),"]."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Allow tracking stale features only in some contexts"}),"\n",(0,n.jsx)(a.li,{children:"Allow izanami clients to send local evaluation results to izanami"}),"\n",(0,n.jsx)(a.li,{children:"Allow to see who calls a feature (which api key)"}),"\n",(0,n.jsx)(a.li,{children:'Allow to mute stale warning for some features (useful for "panic button" features)'}),"\n",(0,n.jsx)(a.li,{children:"Allow mail based stale alerting."}),"\n"]})]})}function m(e={}){const{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},1361:(e,a,t)=>{t.d(a,{j:()=>l});const n={description__trivia:"description__trivia_yesz"};var i=t(4625),s=t(5893);function l(e){let{children:a}=e;return(0,s.jsxs)("div",{className:n.description__trivia,children:[(0,s.jsx)("img",{src:i.Z}),(0,s.jsx)("div",{children:a})]})}},4625:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/izanami_compressed-659337582c1667d92966e42fa1bfea3f.webp"},1151:(e,a,t)=>{t.d(a,{Z:()=>r,a:()=>l});var n=t(7294);const i={},s=n.createContext(i);function l(e){const a=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(s.Provider,{value:a},e.children)}}}]);