"use strict";(self.webpackChunkizanami_documentation=self.webpackChunkizanami_documentation||[]).push([[5180],{8878:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var t=i(5893),s=i(1151);const r={title:"Key definition and best practices"},a=void 0,o={id:"keys",title:"Key definition and best practices",description:"The key format handled by Izanami is namespaces separated by a :.",source:"@site/v1/13-keys.mdx",sourceDirName:".",slug:"/keys",permalink:"/izanami/v1/keys",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:13,frontMatter:{title:"Key definition and best practices"},sidebar:"defaultSidebar",previous:{title:"APIs",permalink:"/izanami/v1/experiments/api"},next:{title:"Listen to events",permalink:"/izanami/v1/events"}},d={},l=[{value:"Handling user authorisations",id:"handling-user-authorisations",level:2},{value:"Filtering keys by pattern on the client side",id:"filtering-keys-by-pattern-on-the-client-side",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The key format handled by Izanami is namespaces separated by a ",(0,t.jsx)(n.code,{children:":"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The recommended format is :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"app namespace"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:"env namespace"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:"the rest of the key"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For example you could have keys defined like this :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:dev:my:key"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:preprod:my:key"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:prod:my:key"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This king of key naming bring several advantages."}),"\n",(0,t.jsx)(n.h2,{id:"handling-user-authorisations",children:"Handling user authorisations"}),"\n",(0,t.jsx)(n.p,{children:"This kind of format for keys allow you to handle authorisations for different kind of client applications."}),"\n",(0,t.jsxs)(n.p,{children:['When you create a user, you can define "authorized patterns" ( ',(0,t.jsx)(n.a,{href:"./ui#edit-a-user",children:"more details here"})," )."]}),"\n",(0,t.jsxs)(n.p,{children:["You define a set of users with pattern ",(0,t.jsx)(n.code,{children:"myapp:*"})," that will only see keys starting with ",(0,t.jsx)(n.code,{children:"myapp:"}),",\ndefine a set of users with pattern ",(0,t.jsx)(n.code,{children:"myapp2:*"})," that will only see keys starting with ",(0,t.jsx)(n.code,{children:"myapp2:"})," and so on."]}),"\n",(0,t.jsx)(n.p,{children:"The same rules are possible for api keys."}),"\n",(0,t.jsx)(n.h2,{id:"filtering-keys-by-pattern-on-the-client-side",children:"Filtering keys by pattern on the client side"}),"\n",(0,t.jsx)(n.p,{children:"When you query izanami, you can use pattern in order to filter only the keys you need in your application.\nThe form of the key can help you to get only the data you need."}),"\n",(0,t.jsx)(n.p,{children:"You can for example define keys like"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:prod:public:my:key1"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:prod:public:my:key2"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"myapp:prod:private:my:key3"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["And use the pattern ",(0,t.jsx)(n.code,{children:"myapp:prod:public:*"})," for the keys exposed to the UI."]}),"\n",(0,t.jsxs)(n.p,{children:["This kind of pattern are mandatory if you use the ",(0,t.jsx)(n.a,{href:"./clients/node",children:"node"})," or ",(0,t.jsx)(n.a,{href:"./clients/jvm",children:"jvm"})," clients."]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>a});var t=i(7294);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);