"use strict";(self.webpackChunkizanami_documentation=self.webpackChunkizanami_documentation||[]).push([[5831],{9488:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>b,contentTitle:()=>f,default:()=>j,frontMatter:()=>m,metadata:()=>g,toc:()=>x});var s=t(5893),n=t(1151);t(3074);const c=t.p+"assets/images/plugin-template-selection-5dbd1e271aefcd07772c1293154eab0c.png",a=t.p+"assets/images/plugin-name-selection-4da3b0933423f22074fa4bb09c5578e1.png",o=t.p+"assets/images/plugin-form-filled-4cecb26fcccdb52332f173666ba4eb9c.png",r=t.p+"assets/images/plugin-builded-c5b3b0684d2bf16a0733304ce958d4d1.png",d=t.p+"assets/images/plugin-filled-c6b2f0edb5c4bcb1f59389b04712b7b0.png",l=t.p+"assets/images/mobile-active-7d4e4cb804d62af87e423330cb925c3d.png",p=t.p+"assets/images/prod-mobile-active-b3de2d76bbf695ebc6e5df2cebe77d7a.png",u=t.p+"assets/images/prod-inactive-f3e034566b895bdf77acacfa0cffb305.png",m={title:"Remote script features"},f=void 0,g={id:"guides/remote-script",title:"Remote script features",description:"To use remote script feature (in opposition to local script features, that we've seen previously), you'll need to instantiate WASMO in alongside Izanami.",source:"@site/docs/04-guides/07-remote-script.mdx",sourceDirName:"04-guides",slug:"/guides/remote-script",permalink:"/izanami/docs/guides/remote-script",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Remote script features"},sidebar:"tutorialSidebar",previous:{title:"Local script features",permalink:"/izanami/docs/guides/local-scripts"},next:{title:"User invitation",permalink:"/izanami/docs/guides/user-invitation"}},b={},x=[];function h(e){const i={a:"a",code:"code",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["To use remote script feature (in opposition to local script features, ",(0,s.jsx)(i.a,{href:"/izanami/docs/guides/local-scripts",children:"that we've seen previously"}),"), you'll need to instantiate WASMO in alongside Izanami."]}),"\n",(0,s.jsxs)(i.p,{children:["Moreover, you'll need to ",(0,s.jsx)(i.a,{href:"./configuration#wasmo",children:"set up Izanami connection to WASMO"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"Using remote WASMO instance allows leveraging its capabilities regarding script editions and lifecycle.\nOf course, this implies to instantiate and supervise an additional application."}),"\n",(0,s.jsx)(i.p,{children:"First, let's create our plugin in WASMO, for this example, we will create an Izanami js plugin."}),"\n",(0,s.jsx)("img",{src:c}),"\n",(0,s.jsxs)(i.p,{children:["Let's name it ",(0,s.jsx)(i.code,{children:"mobile"}),"."]}),"\n",(0,s.jsx)("img",{src:a}),"\n",(0,s.jsxs)(i.p,{children:["We'll one again create a script that returns ",(0,s.jsx)(i.code,{children:"true"})," if ",(0,s.jsx)(i.code,{children:"mobile"})," is one of request contexts, and ",(0,s.jsx)(i.code,{children:"false"})," otherwise. Let's paste following code in WASMO editor :"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'export function execute() {\n  let input = JSON.parse(Host.inputString());\n  Host.outputString(\n    JSON.stringify({\n      active: input.executionContext.includes("mobile"),\n    })\n  );\n\n  return 0;\n}\n'})}),"\n",(0,s.jsx)("img",{src:d}),"\n",(0,s.jsxs)(i.p,{children:["Then click the build button (top right) to build our ",(0,s.jsx)(i.code,{children:"mobile"})," script."]}),"\n",(0,s.jsx)("img",{src:r}),"\n",(0,s.jsxs)(i.p,{children:["Now let's get back to Izanami and create a new WASM feature. This time we'll choose to create a ",(0,s.jsx)(i.code,{children:"WASMO"})," feature."]}),"\n",(0,s.jsx)("img",{src:o}),"\n",(0,s.jsxs)(i.p,{children:["Once again, let's test our feature, it should be active for ",(0,s.jsx)(i.code,{children:"mobile"})," context."]}),"\n",(0,s.jsx)("img",{src:l}),"\n",(0,s.jsxs)(i.p,{children:["It should also be active for ",(0,s.jsx)(i.code,{children:"prod/mobile"})," subcontext."]}),"\n",(0,s.jsx)("img",{src:p}),"\n",(0,s.jsxs)(i.p,{children:["And of course it should be inactive for ",(0,s.jsx)(i.code,{children:"prod"})," context."]}),"\n",(0,s.jsx)("img",{src:u})]})}function j(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},3074:(e,i,t)=>{t.d(i,{j:()=>a});const s={description__trivia:"description__trivia_yesz"},n=t.p+"assets/images/izanami-fcff3cbcd789d673683f3365a3ddf9e4.png";var c=t(5893);function a(e){let{children:i}=e;return(0,c.jsxs)("div",{className:s.description__trivia,children:[(0,c.jsx)("img",{src:n}),(0,c.jsx)("div",{children:i})]})}},1151:(e,i,t)=>{t.d(i,{Z:()=>o,a:()=>a});var s=t(7294);const n={},c=s.createContext(n);function a(e){const i=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(c.Provider,{value:i},e.children)}}}]);