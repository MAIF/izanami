<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Configuring Izanami | Izanami</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maif.github.io/izanami/img/izanami-mini.jpg"><meta data-rh="true" name="twitter:image" content="https://maif.github.io/izanami/img/izanami-mini.jpg"><meta data-rh="true" property="og:url" content="https://maif.github.io/izanami/docs/guides/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring Izanami | Izanami"><meta data-rh="true" name="description" content="Mandatory parameters"><meta data-rh="true" property="og:description" content="Mandatory parameters"><link data-rh="true" rel="icon" href="/izanami/img/_izanami-mini.svg"><link data-rh="true" rel="canonical" href="https://maif.github.io/izanami/docs/guides/configuration"><link data-rh="true" rel="alternate" href="https://maif.github.io/izanami/docs/guides/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://maif.github.io/izanami/docs/guides/configuration" hreflang="x-default"><link rel="stylesheet" href="/izanami/assets/css/styles.6af49c56.css">
<script src="/izanami/assets/js/runtime~main.c41693e2.js" defer="defer"></script>
<script src="/izanami/assets/js/main.e1a86f00.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/izanami/"><div class="navbar__logo"><img src="/izanami/img/izanami-mini-dark.svg" alt="Izanami logo" class="header-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/izanami/img/izanami-mini-light.svg" alt="Izanami logo" class="header-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Izanami</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/izanami/docs/getstarted/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/izanami/docs/getstarted/">2.x.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/izanami/docs/guides/configuration">2.x.x</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>V1 doc</b></li><li><a class="dropdown__link" href="/izanami/v1">1.11.0</a></li><li><hr class="dropdown-separator"></li></ul></div><a href="https://github.com/maif/izanami" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/izanami/docs/getstarted/">Get started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/izanami/docs/concepts/">Feature flags</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/izanami/docs/usages/">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/izanami/docs/guides/">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/env-contexts">Handling environnements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/multi-conditions-feature">Multi-condition feature</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/query-builder">Requesting multiple features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/bulk-feature-modification">Bulk feature modification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/import-from-v1">Migrate from V1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/local-scripts">Local script features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/remote-script">Remote script features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/http-calls-in-scripts">Http calls in scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/user-invitation">User invitation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/key-configuration">Creating API key</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/mailer-configuration">Configuring mailer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/izanami/docs/guides/configuration">Configuring Izanami</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/webhooks">Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/transfer-data">Data transfer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/non-boolean-features">Non boolean features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/personnal-access-tokens">Access tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/audit-logs">Audit logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/protected-contexts">Protected contexts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/stales-features">Stale feature detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izanami/docs/guides/oidc-configuration">OAuth2 rights</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/izanami/docs/clients/">Clients</a><button aria-label="Expand sidebar category &#x27;Clients&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/izanami/docs/dev/">Developing Izanami</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/izanami/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/izanami/docs/guides/"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Izanami</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Izanami</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mandatory-parameters">Mandatory parameters<a href="#mandatory-parameters" class="hash-link" aria-label="Direct link to Mandatory parameters" title="Direct link to Mandatory parameters">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="secret">Secret<a href="#secret" class="hash-link" aria-label="Direct link to Secret" title="Direct link to Secret">​</a></h3>
<p>This parameter is mandatory for production purpose.
This secret is used to encrypt various stuff such as token, cookies, or passwords.</p>
<p>Your application secret must have at least 256 bits.</p>
<p>You can either set the <code>IZANAMI_SECRET</code> env variable or use the <code>app.secret</code> parameter.</p>
<p>⚠️ If a custom secret is not set, a default will be used.
<strong>This default is not secured</strong> since it&#x27;s visible in Izanami public github repository.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a href="#database" class="hash-link" aria-label="Direct link to Database" title="Direct link to Database">​</a></h3>
<p>You can either provide a connection URI, or indicate database name, user, host, port and so on separately.</p>
<div class="description__trivia_yesz"><img src="/izanami/assets/images/izanami_compressed-659337582c1667d92966e42fa1bfea3f.webp"><div><p>If a connection URI is provided, all other parameters will be ignored.</p></div></div>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Uri</td><td>IZANAMI_PG_URI</td><td>app.pg.uri</td><td></td></tr><tr><td>Port</td><td>IZANAMI_PG_PORT</td><td>app.pg.port</td><td>5432</td></tr><tr><td>Host</td><td>IZANAMI_PG_HOST</td><td>app.pg.host</td><td>localhost</td></tr><tr><td>Database name</td><td>IZANAMI_PG_DATABASE</td><td>app.pg.database</td><td>postgres</td></tr><tr><td>Username</td><td>IZANAMI_PG_USER</td><td>app.pg.username</td><td>postgres</td></tr><tr><td>Password</td><td>IZANAMI_PG_PASSWORD</td><td>app.pg.password</td><td>postgres</td></tr><tr><td>Pool size</td><td>IZANAMI_PG_POOL_SIZE</td><td>app.pg.pool-size</td><td>20</td></tr><tr><td>Connect timeout(ms)</td><td>IZANAMI_PG_CONNECT_TIMEOUT</td><td>app.pg.connect-timeout</td><td>60000</td></tr><tr><td>Connection max lifetime</td><td>IZANAMI_PG_MAX_LIFETIME</td><td>app.pg.max-lifetime</td><td>0 (no maximum)</td></tr><tr><td>IDLE timeout(s)</td><td>IZANAMI_PG_IDLE_TIMEOUT</td><td>app.pg.idle-timeout</td><td>0 (no timeout)</td></tr><tr><td>Log activity</td><td>IZANAMI_PG_LOG_ACTIVITY</td><td>app.pg.log-activity</td><td>false</td></tr><tr><td>Pipelining limit</td><td>IZANAMI_PG_PIPELINING_LIMIT</td><td>app.pg.pipelining-limit</td><td>256</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-ssl">Database SSL<a href="#database-ssl" class="hash-link" aria-label="Direct link to Database SSL" title="Direct link to Database SSL">​</a></h4>
<p>Izanami provides some configuration options to secure database connection with SSL</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>SSL</td><td>IZANAMI_PG_SSL_ENABLED</td><td>app.pg.ssl.enabled</td><td>false</td></tr><tr><td>Mode</td><td>IZANAMI_PG_SSL_MODE</td><td>app.pg.ssl.mode</td><td>REQUIRE</td></tr><tr><td>Trusted certtificates paths</td><td></td><td>trusted-certs-path</td><td>[]</td></tr><tr><td>Trusted certificate path</td><td>IZANAMI_PG_SSL_TRUSTED_CERT_PATH</td><td>trusted-cert-path</td><td></td></tr><tr><td>Trusted certificates</td><td></td><td>trusted-certs</td><td>[]</td></tr><tr><td>Trusted certificate</td><td>IZANAMI_PG_SSL_TRUSTED_CERT</td><td>trusted-cert</td><td></td></tr><tr><td>Client certificates paths</td><td></td><td>client-certs-path</td><td>[]</td></tr><tr><td>Client certificate path</td><td>IZANAMI_PG_SSL_CLIENT_CERT_PATH</td><td>client-cert-path</td><td></td></tr><tr><td>Client certificates</td><td></td><td>client-certs</td><td>[]</td></tr><tr><td>Client certificate</td><td>IZANAMI_PG_SSL_CLIENT_CERT</td><td>client-cert</td><td></td></tr><tr><td>Trust all certificates</td><td>IZANAMI_PG_SSL_TRUST_ALL</td><td>trust-all</td><td></td></tr></tbody></table>
<div class="description__trivia_yesz"><img src="/izanami/assets/images/izanami_compressed-659337582c1667d92966e42fa1bfea3f.webp"><div><p>Collection variables, such as <code>trusted-certs-path</code> can be valued throught command line with the following syntax:<br>
<code>java -jar izanami.jar -Dapp.pg.ssl.trusted-certs-path.0=first_path -Dapp.pg.ssl.trusted-certs-path.1=second_path</code></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-server">HTTP server<a href="#http-server" class="hash-link" aria-label="Direct link to HTTP server" title="Direct link to HTTP server">​</a></h3>
<p>Since Izanami uses play framework under the hood, http server configuration rely heavily on play configuration keys.</p>
<p>Table above list essentials parameters, check <a href="https://www.playframework.com/documentation/2.9.x/SettingsAkkaHttp" target="_blank" rel="noopener noreferrer">Play documentation</a> for more.</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Port</td><td>PLAY_HTTP_PORT</td><td>play.server.http.port</td><td>9000</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="admin-account">Admin account<a href="#admin-account" class="hash-link" aria-label="Direct link to Admin account" title="Direct link to Admin account">​</a></h3>
<p>When creating on an empty database, Izanami will create a user for you.</p>
<p>You&#x27;ll have to use this user for your first login.</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Username</td><td>IZANAMI_ADMIN_DEFAULT_USERNAME</td><td>app.admin.username</td><td>RESERVED_ADMIN_USER</td></tr><tr><td>Password</td><td>IZANAMI_ADMIN_DEFAULT_PASSWORD</td><td>app.admin.password</td><td>generated (and printed in stdout)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exposition-url">Exposition url<a href="#exposition-url" class="hash-link" aria-label="Direct link to Exposition url" title="Direct link to Exposition url">​</a></h3>
<p>Izanami needs to know on which URL it is exposed, this use for generating invitation link or query builder links.</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Exposition URL</td><td>IZANAMI_EXPOSITION_URL</td><td>app.exposition.url</td><td><code>http://localhost:${http.port}</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-parameters">Optional parameters<a href="#optional-parameters" class="hash-link" aria-label="Direct link to Optional parameters" title="Direct link to Optional parameters">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openid">OpenId<a href="#openid" class="hash-link" aria-label="Direct link to OpenId" title="Direct link to OpenId">​</a></h3>
<p>Izanami allows to set up an external openid provider.</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Client ID</td><td>IZANAMI_OPENID_CLIENT_ID</td><td>app.openid.client-id</td><td></td></tr><tr><td>Client secret</td><td>IZANAMI_OPENID_CLIENT_SECRET</td><td>app.openid.client-secret</td><td></td></tr><tr><td>Authorize URL</td><td>IZANAMI_OPENID_AUTHORIZE_URL</td><td>app.openid.authorize-url</td><td></td></tr><tr><td>Token URL</td><td>IZANAMI_OPENID_TOKEN_URL</td><td>app.openid.token-url</td><td></td></tr><tr><td>Redirect URL</td><td>IZANAMI_OPENID_REDIRECT_URL</td><td>app.openid.redirect-url</td><td><code>${app.exposition.url}/login</code></td></tr><tr><td>Scopes</td><td>IZANAMI_OPENID_SCOPES</td><td>app.openid.scopes</td><td><code>openid email profile</code></td></tr><tr><td>Email field</td><td>IZANAMI_OPENID_EMAIL_FIELD</td><td>app.openid.email-field</td><td><code>email</code></td></tr><tr><td>Username field</td><td>IZANAMI_OPENID_USERNAME_FIELD</td><td>app.openid.username-field</td><td><code>name</code></td></tr></tbody></table>
<ul>
<li><code>Scopes</code> indicates which scopes should be requested when calling authorization url.</li>
<li><code>Email field</code> indicates which field of id token should be used as user email</li>
<li><code>Username field</code> indicates which field of id token should be used as username</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wasmo">Wasmo<a href="#wasmo" class="hash-link" aria-label="Direct link to Wasmo" title="Direct link to Wasmo">​</a></h3>
<p>If you chose to set up a WASMO instance alongside Izanami, you&#x27;ll need to provide additional properties.</p>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Wasmo url</td><td>IZANAMI_WASMO_URL</td><td>app.wasmo.url</td><td></td></tr><tr><td>Wasmo client id</td><td>IZANAMI_WASMO_CLIENT_ID</td><td>app.wasmo.client-id</td><td></td></tr><tr><td>Wasmo client secret</td><td>IZANAMI_WASMO_CLIENT_SECRET</td><td>app.wasmo.client-secret</td><td></td></tr><tr><td>Wasm cache TTL (ms)</td><td>IZANAMI_WASM_CACHE_TTL</td><td>app.wasm.cache.ttl</td><td>60000</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="various-time-to-live">Various time to live<a href="#various-time-to-live" class="hash-link" aria-label="Direct link to Various time to live" title="Direct link to Various time to live">​</a></h3>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Invitation time to live (s)</td><td>IZANAMI_INVITATIONS_TTL</td><td>app.invitations.ttl</td><td>86400 (24h)</td></tr><tr><td>Session time to live (s)</td><td>IZANAMI_SESSIONS_TTL</td><td>app.sessions.ttl</td><td>3700</td></tr><tr><td>Password reset request time to live (s)</td><td>IZANAMI_PASSWORD_RESET_REQUEST_TTL</td><td>app.password-reset-requests.ttl</td><td>900 (15min)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cors">Cors<a href="#cors" class="hash-link" aria-label="Direct link to Cors" title="Direct link to Cors">​</a></h3>
<p>Izanami uses <a href="https://www.playframework.com/documentation/3.0.x/CorsFilter#Configuring-the-CORS-filter" target="_blank" rel="noopener noreferrer">Play CORS filter</a> to handle CORS.</p>
<p>Therefore, CORS is configurable using <code>play.filters.cors</code> configuration keys.</p>
<p>Alternatively, Izanami re-exposes these configuration keys with below env variables :</p>
<table><thead><tr><th>Play configuration key</th><th>Environnement variable</th></tr></thead><tbody><tr><td>play.filters.cors.pathPrefixes</td><td>IZANAMI_CORS_PATH_PREFIXES</td></tr><tr><td>play.filters.cors.allowedOrigins</td><td>IZANAMI_CORS_ALLOWED_ORIGINS</td></tr><tr><td>play.filters.cors.allowedHttpMethods</td><td>IZANAMI_CORS_ALLOWED_HTTP_METHODS</td></tr><tr><td>play.filters.cors.allowedHttpHeaders</td><td>IZANAMI_CORS_ALLOWED_HTTP_HEADERS</td></tr><tr><td>play.filters.cors.exposedHeaders</td><td>IZANAMI_CORS_EXPOSED_HEADERS</td></tr><tr><td>play.filters.cors.supportsCredentials</td><td>IZANAMI_CORS_SUPPORTS_CREDENTIALS</td></tr><tr><td>play.filters.cors.preflightMaxAge</td><td>IZANAMI_CORS_PREFLIGHT_MAX_AGE</td></tr><tr><td>play.filters.cors.serveForbiddenOrigins</td><td>IZANAMI_CORS_SERVE_FORBIDDEN_ORIGINS</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="webhooks">Webhooks<a href="#webhooks" class="hash-link" aria-label="Direct link to Webhooks" title="Direct link to Webhooks">​</a></h3>
<p>Webhooks use exponential backoff algorithm to space out retries in case of failures.
If retry exceed max allowed retry count, it stops trying and webhook won&#x27;t be called.</p>
<p>Duration is computed as :</p>
<p><code>retryDelay = Math.min(initialDelay * Math.pow(multiplier, currentCount), maxDelay)</code></p>
<p>Retry delay is a minimal delay, Izanami checks periodically for hooks to retry.
The interval between two checks is defined by <code>check-interval</code>, this means that actual time before a retry is between</p>
<p><code>actualDelay = Math.min(initialDelay * Math.pow(multiplier, currentCount), maxDelay)</code></p>
<p>and</p>
<p><code>actualDelay = Math.min(initialDelay * Math.pow(multiplier, currentCount), maxDelay) + checkInterval</code></p>
<p>With configurable values</p>
<table><thead><tr><th></th><th>Play configuration key</th><th>Environnement variable</th><th>Defautl value</th></tr></thead><tbody><tr><td>max retry count</td><td>app.webhooks.retry.count</td><td>IZANAMI_WEBHOOK_RETRY_COUNT</td><td>5</td></tr><tr><td>initial delay (in seconds)</td><td>app.webhooks.retry.intial-delay</td><td>IZANAMI_WEBHOOK_RETRY_INITIAL_DELAY</td><td>5</td></tr><tr><td>max delay (in seconds)</td><td>app.webhooks.retry.max-delay</td><td>IZANAMI_WEBHOOK_RETRY_MAX_DELAY</td><td>600</td></tr><tr><td>multiplier</td><td>app.webhooks.retry.multiplier</td><td>IZANAMI_WEBHOOK_RETRY_MULTIPLIER</td><td>2</td></tr><tr><td>check interval (in seconds)</td><td>app.webhooks.retry.check-interval</td><td>IZANAMI_WEBHOOK_RETRY_CHECK_INTERVAL</td><td>30</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="searchbar-parameter-similarity_threshold">SearchBar Parameter: similarity_threshold<a href="#searchbar-parameter-similarity_threshold" class="hash-link" aria-label="Direct link to SearchBar Parameter: similarity_threshold" title="Direct link to SearchBar Parameter: similarity_threshold">​</a></h3>
<p>The similartiy_threshold parameter in Izanami is a key setting that influences the behavior of similarity-based search queries.</p>
<p><strong>Purpose</strong></p>
<p>This parameter determines how closely two strings need to match for the similarity function to recognize them as &quot;similar&quot;.</p>
<p><strong>Range</strong></p>
<p>The <a href="https://www.postgresql.org/docs/current/pgtrgm.html" target="_blank" rel="noopener noreferrer">similarity_threshold</a> is a floating-point value ranging from 0.0 to 1.0:</p>
<ul>
<li>0.0: All strings are considered similar, allowing for maximum inclusivity in search results.</li>
<li>1.0: Requires an exact match, providing the highest precision.</li>
</ul>
<p><strong>Usage</strong></p>
<p>By adjusting the threshold, you can control the sensitivity of your similarity searches:</p>
<ul>
<li>Lower values (0.2-0.4): Broader matching criteria, capturing more results that might be loosely related.</li>
<li>Higher values (0.8-1.0): Stricter matching criteria, focusing on results that closely resemble the query.</li>
</ul>
<table><thead><tr><th></th><th>Environnement variable</th><th>Program argument</th><th>Default</th></tr></thead><tbody><tr><td>Similartiy_threshold parameter</td><td>IZANAMI_SIMILARITY_THRESHOLD_PARAMETER</td><td>app.search.similarity_threshold</td><td>0.2</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit">Audit<a href="#audit" class="hash-link" aria-label="Direct link to Audit" title="Direct link to Audit">​</a></h3>
<p>Izanami offers an audit log for some actions, such as feature creation/update/delete.
To provide this, it stores events about passed use actions. As time passes, event storage can grow very big.</p>
<p>Retention duration for this event can be parameterized using below variable.</p>
<p>⚠️ You won&#x27;t be able to access audit log older than retention duration.</p>
<table><thead><tr><th></th><th>Play configuration key</th><th>Environnement variable</th><th>Default</th></tr></thead><tbody><tr><td>event retention duration (in hours)</td><td>app.audit.events-hours-ttl</td><td>IZANAMI_AUDIT_EVENTS_HOURS_TTL</td><td>4344 (~6 months)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellanous">Miscellanous<a href="#miscellanous" class="hash-link" aria-label="Direct link to Miscellanous" title="Direct link to Miscellanous">​</a></h3>
<table><thead><tr><th></th><th>Program argument</th><th>Environnement variable</th><th>Default</th></tr></thead><tbody><tr><td>Force usage of legacy features for v1 compat</td><td>app.feature.force-legacy</td><td>IZANAMI_FEATURE_FORCE_LEGACY</td><td>false</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/izanami/docs/guides/mailer-configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuring mailer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/izanami/docs/guides/webhooks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Webhooks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mandatory-parameters" class="table-of-contents__link toc-highlight">Mandatory parameters</a><ul><li><a href="#secret" class="table-of-contents__link toc-highlight">Secret</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li><li><a href="#http-server" class="table-of-contents__link toc-highlight">HTTP server</a></li><li><a href="#admin-account" class="table-of-contents__link toc-highlight">Admin account</a></li><li><a href="#exposition-url" class="table-of-contents__link toc-highlight">Exposition url</a></li></ul></li><li><a href="#optional-parameters" class="table-of-contents__link toc-highlight">Optional parameters</a><ul><li><a href="#openid" class="table-of-contents__link toc-highlight">OpenId</a></li><li><a href="#wasmo" class="table-of-contents__link toc-highlight">Wasmo</a></li><li><a href="#various-time-to-live" class="table-of-contents__link toc-highlight">Various time to live</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">Cors</a></li><li><a href="#webhooks" class="table-of-contents__link toc-highlight">Webhooks</a></li><li><a href="#searchbar-parameter-similarity_threshold" class="table-of-contents__link toc-highlight">SearchBar Parameter: similarity_threshold</a></li><li><a href="#audit" class="table-of-contents__link toc-highlight">Audit</a></li><li><a href="#miscellanous" class="table-of-contents__link toc-highlight">Miscellanous</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">MAIF</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://maif.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OSS by MAIF</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/vUP2eKYu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://app.gitter.im/#/room/#MAIF_izanami:gitter.im" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/maif/izanami" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/MAIF/izanami/releases/latest" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>